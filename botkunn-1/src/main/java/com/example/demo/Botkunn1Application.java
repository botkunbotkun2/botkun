package com.example.demo;

import java.io.BufferedReader;
import java.io.IOException;
import java.io.InputStreamReader;
import java.net.HttpURLConnection;
import java.net.URL;
import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;
import com.google.maps.GeoApiContext;
import com.linecorp.bot.model.event.Event;
import com.linecorp.bot.model.event.MessageEvent;
import com.linecorp.bot.model.event.message.ImageMessageContent;
import com.linecorp.bot.model.event.message.LocationMessageContent;
import com.linecorp.bot.model.event.message.StickerMessageContent;
import com.linecorp.bot.model.event.message.TextMessageContent;
import com.linecorp.bot.model.event.message.VideoMessageContent;
import com.linecorp.bot.model.message.LocationMessage;
import com.linecorp.bot.model.message.Message;
import com.linecorp.bot.model.message.TextMessage;
import com.linecorp.bot.spring.boot.annotation.EventMapping;
import com.linecorp.bot.spring.boot.annotation.LineMessageHandler;
import org.json.JSONArray;
import org.json.JSONObject;

@SpringBootApplication
@LineMessageHandler
public class Botkunn1Application {
    public static void main(String[] args) {
        SpringApplication.run(Botkunn1Application.class, args);
    }
  
    
   
    @EventMapping
    public Message handleLocationMessageEvent(MessageEvent< TextMessageContent> event){
    	if (event.getMessage().getText().contains("Êù±‰∫¨")||
    			event.getMessage().getText().equals("Ê∏ãË∞∑")||event.getMessage().getText().equals("ÁßãËëâÂéü")||
    			event.getMessage().getText().equals("ÈéåÂÄâ")||event.getMessage().getText().equals("‰∏äÈáé")||
    			event.getMessage().getText().equals("Êñ∞ÂÆø")||event.getMessage().getText().equals("Ê±†Ë¢ã")||
    			event.getMessage().getText().equals("ÁõÆÈªí")||event.getMessage().getText().equals("Â§ßÈò™")||
    			event.getMessage().getText().equals("ÂêçÂè§Â±ã")||event.getMessage().getText().equals("ÂÖ≠Êú¨Êú®")
    			||event.getMessage().getText().equals("Êú≠Âπå")||event.getMessage().getText().equals("Á¶èÂ≤°")
    			||event.getMessage().getText().equals("‰∫¨ÈÉΩ")||event.getMessage().getText().equals("ÈÇ£Ë¶á")
    			||event.getMessage().getText().equals("Ê®™Êµú")||event.getMessage().getText().equals("Á•ûÊà∏")
    			||event.getMessage().getText().equals("Â∫ÉÂ≥∂")||event.getMessage().getText().equals("‰ªôÂè∞")
    			||event.getMessage().getText().equals("ÂçÉËëâ")||event.getMessage().getText().equals("„Åï„ÅÑ„Åü„Åæ")
    			||event.getMessage().getText().equals("ÊµúÊùæ")||event.getMessage().getText().equals("ÁÜäÊú¨")
    					
    			
    	){
             GeoApiContext context = new GeoApiContext.Builder()
           .apiKey("AIzaSyD3_BThExaXsXlEeGmtxMWHH4Iq0n3Pq1M").build();
             String result = "";
             String tmp = "";

             try{
            	 URL url = new URL("https://map.yahooapis.jp/geocode/V1/geoCoder?appid=dj00aiZpPWU1aWNHT2ZNWFRsYiZzPWNvbnN1bWVyc2VjcmV0Jng9YjE-&query="+event.getMessage().getText()+"&results=1&output=json");
             
             HttpURLConnection con = (HttpURLConnection) url.openConnection(); 
             con.connect();
             BufferedReader in = new BufferedReader(new InputStreamReader(con.getInputStream()));
              while((tmp = in.readLine())!=null) {
                             result += tmp;
                     }
                     in.close();
                     con.disconnect();
             } catch (IOException e) {
                     e.printStackTrace();
             }
          
             JSONObject json1 = new JSONObject(result);
             if(json1.getJSONArray("Feature")==null) {
            	 return new TextMessage("Â≠òÂú®„Åô„ÇãÂ∏Ç„ÅÆÂêçÂâç„Åß„ÅäÈ°ò„ÅÑ„Åó„Åæ„Åô„Å£!!");
             			
             } else {
             JSONArray jsonList = json1.getJSONArray("Feature"); 
             JSONObject jsonNo = jsonList.getJSONObject(0);
        
      String title = jsonNo.getString("Name");
      String adress = jsonNo.getJSONObject("Property").getString("Address");
    String[]  coods = jsonNo.getJSONObject("Geometry").getString("Coordinates").split(",");
    double latitude = Double.valueOf(coods[1]);
    double longitude = Double.valueOf(coods[0]);
      
        	
        	return new LocationMessage(
        				title,
        				 adress,
        				  latitude,
        			   longitude	  
     );
         }}

        if(event.getMessage().getText().contains("„Ç´„Éï„Çß")) {
     	  
        	 GeoApiContext context = new GeoApiContext.Builder()
        	           .apiKey("AIzaSyD3_BThExaXsXlEeGmtxMWHH4Iq0n3Pq1M").build();
        	             String result = "";
        	             String tmp = "";

String placename = event.getMessage().getText().substring(3);
        	             try{
        	            	 URL url = new URL("https://map.yahooapis.jp/geocode/V1/geoCoder?appid=dj00aiZpPWU1aWNHT2ZNWFRsYiZzPWNvbnN1bWVyc2VjcmV0Jng9YjE-&query="+placename+"&results=1&output=json");
        	             
        	             HttpURLConnection con = (HttpURLConnection) url.openConnection(); 
        	             con.connect();
        	             BufferedReader in = new BufferedReader(new InputStreamReader(con.getInputStream()));
        	              while((tmp = in.readLine())!=null) {
        	                             result += tmp;
        	                     }
        	                     in.close();
        	                     con.disconnect();
        	             } catch (IOException e) {
        	                     e.printStackTrace();
        	             }
        	             JSONObject json1 = new JSONObject(result);
        	             if(json1.getJSONArray("Feature")==null) {
        	            	 return new TextMessage("Â≠òÂú®„Åô„ÇãÂ∏Ç„ÅÆÂêçÂâç„Åß„ÅäÈ°ò„ÅÑ„Åó„Åæ„Åô„Å£!!");
        	             			
        	             } else {
        	             JSONArray jsonList = json1.getJSONArray("Feature"); 
        	             JSONObject jsonNo = jsonList.getJSONObject(0);
        	    String[]  coods = jsonNo.getJSONObject("Geometry").getString("Coordinates").split(",");
        	    double latitude = Double.valueOf(coods[1]);
        	    double longitude = Double.valueOf(coods[0]);
        	    String result2 = "";
	             String tmp2 = "";            
        	    try{
        	   	 URL url2 = new URL("https://map.yahooapis.jp/search/local/V1/localSearch?appid=dj00aiZpPWU1aWNHT2ZNWFRsYiZzPWNvbnN1bWVyc2VjcmV0Jng9YjE-&dist=1&gc=0115001&results=5&lat="+ latitude+ "&lon="+ longitude+ "&dist=3&sort=hybrid&output=json");
        	    
        	    HttpURLConnection con2 = (HttpURLConnection) url2.openConnection(); 
        	    con2.connect();
        	    

        	    BufferedReader in2 = new BufferedReader(new InputStreamReader(con2.getInputStream()));
        	     while((tmp2 = in2.readLine())!=null) {
        	                    result2 += tmp2;
        	            }
        	            in2.close();
        	            con2.disconnect();
        	    } catch (IOException e) {
        	            e.printStackTrace();
        	    }
        	    
        	    JSONObject json2 = new JSONObject(result2);
        	    JSONArray jsonList2 = json2.getJSONArray("Feature"); 
        	    
        	    
        	   JSONObject jsonNo2 = jsonList2.getJSONObject(0);
        	   String name = jsonNo2.getString("Name");
        	   String address = jsonNo2.getJSONObject("Property").getString("Address");
        	
        	   JSONObject jsonNo3 = jsonList2.getJSONObject(1);
        	   String name2 = jsonNo3.getString("Name");
        	   String address2 = jsonNo3.getJSONObject("Property").getString("Address");
        	
        	   JSONObject jsonNo4 = jsonList2.getJSONObject(2);
        	   String name3 = jsonNo4.getString("Name");
        	   String address3 = jsonNo4.getJSONObject("Property").getString("Address");
        	

        	   JSONObject jsonNo5 = jsonList2.getJSONObject(3);
        	   String name4 = jsonNo5.getString("Name");
        	   String address4 = jsonNo5.getJSONObject("Property").getString("Address");
        	 
        	   JSONObject jsonNo6 = jsonList2.getJSONObject(4);
        	   String name5 = jsonNo6.getString("Name");
        	   String address5 = jsonNo6.getJSONObject("Property").getString("Address");
        	 
        	    return new TextMessage(placename+"„ÅÆ‰∫∫Ê∞ó„Å™Cafe‚òïÔ∏è"+"\r\n"
        	    		+ "Ôºà„Åì„Åì„Å†„Çà„ÇìüòôÔºâ"+"\r\n"
        	    +"„Äê1‰Ωç„Äë"+"\r\n"+"Â∫óÂêç: "+name+"\r\n"+
        	    	"‰ΩèÊâÄ: " +address+"\r\n"
        	   		+"\r\n"
        	   		
        	   		+"„Äê2‰Ωç„Äë"+"\r\n"+"Â∫óÂêç: "+name2+"\r\n"
        	   		
        	   		+"‰ΩèÊâÄ: " +address2+"\r\n"+"\r\n"
        	   		+"„Äê3‰Ωç„Äë"+"\r\n"+"Â∫óÂêç: "+name3+"\r\n"
        	   		
        	   		+"‰ΩèÊâÄ: " +address3+"\r\n"
        	   		+"\r\n"
        	   		+"„Äê4‰Ωç„Äë"+"\r\n"+"Â∫óÂêç: "+name4+"\r\n"
        	   		
        	   		+"‰ΩèÊâÄ: " +address4+"\r\n"
        	   		+"\r\n"
        	   		+"„Äê5‰Ωç„Äë"+"\r\n"+"Â∫óÂêç: "+name5+"\r\n"
        	   		
        	   		+"‰ΩèÊâÄ: " +address5+"\r\n"
        	   		
        	   		 );
        	    
        	      }
        }
        if(event.getMessage().getText().contains("„É©„Éº„É°„É≥")) {
       	  
       	 GeoApiContext contextra = new GeoApiContext.Builder()
       	           .apiKey("AIzaSyD3_BThExaXsXlEeGmtxMWHH4Iq0n3Pq1M").build();
       	             String resultra = "";
       	             String tmpra = "";

String placenamera = event.getMessage().getText().substring(4);
       	             try{
       	            	 URL urlra = new URL("https://map.yahooapis.jp/geocode/V1/geoCoder?appid=dj00aiZpPWU1aWNHT2ZNWFRsYiZzPWNvbnN1bWVyc2VjcmV0Jng9YjE-&query="+placenamera+"&results=1&output=json");
       	             
       	             HttpURLConnection conra = (HttpURLConnection) urlra.openConnection(); 
       	             conra.connect();
       	             BufferedReader inra = new BufferedReader(new InputStreamReader(conra.getInputStream()));
       	              while((tmpra = inra.readLine())!=null) {
       	                             resultra += tmpra;
       	                     }
       	                     inra.close();
       	                     conra.disconnect();
       	             } catch (IOException e) {
       	                     e.printStackTrace();
       	             }
       	             JSONObject json1ra = new JSONObject(resultra);
       	         
       	             JSONArray jsonListra = json1ra.getJSONArray("Feature"); 
       	             JSONObject jsonNora = jsonListra.getJSONObject(0);
       	        
       	     // String title = jsonNo.getString("Name");
       	    //  String adress = jsonNo.getJSONObject("Property").getString("Address");
       	    String[]  coods = jsonNora.getJSONObject("Geometry").getString("Coordinates").split(",");
       	    double latitudera = Double.valueOf(coods[1]);
       	    double longitudera = Double.valueOf(coods[0]);
       	    String result2ra = "";
	             String tmp2ra = "";            
       	    try{
       	   	 URL url2ra = new URL("https://map.yahooapis.jp/search/local/V1/localSearch?appid=dj00aiZpPWU1aWNHT2ZNWFRsYiZzPWNvbnN1bWVyc2VjcmV0Jng9YjE-&dist=1&gc=0106001&results=5&lat="+ latitudera+ "&lon="+ longitudera+ "&dist=3&sort=hybrid&output=json");
       	    
       	    HttpURLConnection con2ra = (HttpURLConnection) url2ra.openConnection(); 
       	    con2ra.connect();
       	    

       	    BufferedReader in2ra = new BufferedReader(new InputStreamReader(con2ra.getInputStream()));
       	     while((tmp2ra = in2ra.readLine())!=null) {
       	                    result2ra += tmp2ra;
       	            }
       	            in2ra.close();
       	            con2ra.disconnect();
       	    } catch (IOException e) {
       	            e.printStackTrace();
       	    }
       	    
       	    JSONObject json2ra = new JSONObject(result2ra);
       	    JSONArray jsonList2ra = json2ra.getJSONArray("Feature"); 
       	    
       	    
       	   JSONObject jsonNo2ra = jsonList2ra.getJSONObject(0);
       	   String namera = jsonNo2ra.getString("Name");
       	   String addressra = jsonNo2ra.getJSONObject("Property").getString("Address");
       	//  String url3 = "https://www.google.co.jp/search?q=" + name + "&ie=UTF-8";
       		 
       	 //  String Genre = jsonNo2.getJSONObject("Property").getJSONArray("Genre").getJSONObject(0).getString("Name");

       	   JSONObject jsonNo3ra = jsonList2ra.getJSONObject(1);
       	   String name2ra = jsonNo3ra.getString("Name");
       	   String address2ra = jsonNo3ra.getJSONObject("Property").getString("Address");
       	 //  String Genre2 = jsonNo3.getJSONObject("Property").getJSONArray("Genre").getJSONObject(0).getString("Name");

       	   JSONObject jsonNo4ra = jsonList2ra.getJSONObject(2);
       	   String name3ra = jsonNo4ra.getString("Name");
       	   String address3ra = jsonNo4ra.getJSONObject("Property").getString("Address");
       	//   String Genre3 = jsonNo4.getJSONObject("Property").getJSONArray("Genre").getJSONObject(0).getString("Name");

       	   JSONObject jsonNo5ra = jsonList2ra.getJSONObject(3);
       	   String name4ra = jsonNo5ra.getString("Name");
       	   String address4ra = jsonNo5ra.getJSONObject("Property").getString("Address");
       	  // String Genre4 = jsonNo5.getJSONObject("Property").getJSONArray("Genre").getJSONObject(0).getString("Name");

       	   JSONObject jsonNo6ra = jsonList2ra.getJSONObject(4);
       	   String name5ra = jsonNo6ra.getString("Name");
       	   String address5ra = jsonNo6ra.getJSONObject("Property").getString("Address");
       	  // String Genre5 =jsonNo6.getJSONObject("Property").getJSONArray("Genre").getJSONObject(0).getString("Name");


       	    return new TextMessage(placenamera+"„ÅÆ‰∫∫Ê∞ó„Å™„É©„Éº„É°„É≥üçúÔ∏è"+"\r\n"
       	    		+ "Ôºà„Åì„Åì„Å†„Çà„ÇìüòôÔºâ"+"\r\n"
       	    +"„Äê1‰Ωç„Äë"+"\r\n"+"Â∫óÂêç: "+namera+"\r\n"+
       	    	"‰ΩèÊâÄ: " +addressra+"\r\n"
       	   		+"\r\n"
       	   		
       	   		+"„Äê2‰Ωç„Äë"+"\r\n"+"Â∫óÂêç: "+name2ra+"\r\n"
       	   		
       	   		+"‰ΩèÊâÄ: " +address2ra+"\r\n"+"\r\n"
       	   		+"„Äê3‰Ωç„Äë"+"\r\n"+"Â∫óÂêç: "+name3ra+"\r\n"
       	   		
       	   		+"‰ΩèÊâÄ: " +address3ra+"\r\n"
       	   		+"\r\n"
       	   		+"„Äê4‰Ωç„Äë"+"\r\n"+"Â∫óÂêç: "+name4ra+"\r\n"
       	   		
       	   		+"‰ΩèÊâÄ: " +address4ra+"\r\n"
       	   		+"\r\n"
       	   		+"„Äê5‰Ωç„Äë"+"\r\n"+"Â∫óÂêç: "+name5ra+"\r\n"
       	   		
       	   		+"‰ΩèÊâÄ: " +address5ra+"\r\n"
       	   		
       	   		
       	   		
       	   		 );
       	    
       	      }
         
        	
        	
        	
        	
        	
        	
        	
        	
        
       
       
       if(event.getMessage().getText().contains("„Åä„ÅØ„Çà")) {
    	   return new TextMessage("„Åä„ÅØ„ÇàÔºÅ"
    	   		+ "‰ªäÊó•„ÇÇ„ÅÑ„ÅÑÊó•„Å´„Å™„Çã„ÇàÔºÅ");
       
      }
       if(event.getMessage().getText().contains("„Åä„ÇÑ„Åô„Åø")) {
    	   return new TextMessage("„ÇÜ„Å£„Åè„Çä‰ºë„Çì„Åß„Å≠„Åáüòô");
       
      }
       if(event.getMessage().getText().contains("„Åì„Çì„Å´„Å°„ÅØ")) {
    	   return new TextMessage("„Å©„ÅÜ„ÇÇ„Å©„ÅÜ„ÇÇü§§");
       
      }if(event.getMessage().getText().contains("„ÅÆÔºü")) {
   	   return new TextMessage("„ÅÜ„Äú„Äú„Çì");
       
      } if(event.getMessage().getText().contains("„ÅÑÔºü")) {
    	   return new TextMessage("„ÅÜ„ÇìüòÜÔºÅ");
           
     } if(event.getMessage().getText().contains("„Å™Ôºü")) {
   	   return new TextMessage("„Å©„ÅÜ„Åã„Å™„ÅÇÔºü");
       
     }  if(event.getMessage().getText().contains("„Å§„Åã„Çå")) {
  	   return new TextMessage("„Åä„Å§„Åã„Çå„Åï„Åæ„Åß„Åôüò≠");
       
    }  if(event.getMessage().getText().contains("Áñ≤„Çå")) {
 	   return new TextMessage("„Åä„Å§„Åã„Çåüò©");
       
   }if(event.getMessage().getText().contains("„Å≠„ÇÄ")) {
 	   return new TextMessage("ÂØù„Çà„ÅÜ„ÄÇ");
       
   } if(event.getMessage().getText().contains("„ÅÑ„ÅÑ„Çà")) {
	   return new TextMessage("„ÅÇ„Çä„Åå„Å®„ÅÜÔºÅ");
       
} if(event.getMessage().getText().contains("„Åä„ÇÅ„Åß„Å®„ÅÜ")) {
	   return new TextMessage("„ÅÇ„Çä„Åå„Å®„ÅÜÔºÅ");
       
} if(event.getMessage().getText().contains("„Åô„Åç")) {
	   return new TextMessage("„ÅÇ„Çä„Åå„Å®„ÅÜü§ó");
       
}if(event.getMessage().getText().contains("Á¨ë")) {
	   return new TextMessage("Á¨ë„Å£„Å¶„Çãwwwwwwwwwwww");
       
} if(event.getMessage().getText().contains("ww")) {
	   return new TextMessage("Ê•Ω„Åó„ÅÑ„Å≠wwww");
       
} if(event.getMessage().getText().contains("Â§ß‰∏àÂ§´Ôºü")) {
	   return new TextMessage("„ÅÜ„ÇìÔºÅÔºÅ");
       
}if(event.getMessage().getText().contains("„Å¥„Åà„Çì")) {
	   return new TextMessage("„Å¥„Åà„Çì„Å¥„Åà„ÇìÔºÅ„Å£„Å¶Ë®Ä„Å£„Å¶„Çã‰∫∫„Ç¢„Éõ„Å®ÊÄù„ÅÜ„Å™ü•∫");
       
} if(event.getMessage().getText().contains("„Åù„Çå„Å™")) {
	   return new TextMessage("„Åù„Çå„Çà");
       
}if(event.getMessage().getText().contains("„Åä„Åë")) {
	   return new TextMessage("üëç");
       
}if(event.getMessage().getText().contains("Â•Ω„Åç")) {
	   return new TextMessage("„Åº„Å£„Å®„Åè„Çì„ÄÇ„ÇÇü§§");
       
}if(event.getMessage().getText().contains("„Åº„Å£„Å®")) {
	   return new TextMessage("„Çà„Çì„Å†„ÅÅÔºüü§§");
       
	   

	   }
	   
	else{
    	
    System.out.println("event: " + event);
       return new TextMessage(
    		   event.getMessage().getText());
   }
}

    
		@EventMapping
    public Message handleStickerMessage(MessageEvent<StickerMessageContent> event) {
        return new TextMessage("„Çπ„Çø„É≥„Éó„Å†ÔºÅÔºÅ");
    }
    @EventMapping
    public Message handleImageMessage(MessageEvent<ImageMessageContent> event) {
        return new TextMessage("„Åì„Çå„ÅØ‰Ωï„ÅÆÁîªÂÉèÔºü");
    }
    @EventMapping
    public Message handleVideoMessage(MessageEvent<VideoMessageContent> event) {
        return new TextMessage("ÂãïÁîªÈÄÅ„Å£„Å¶„Åè„Çå„Åü„ÅÆ„Å≠ÔºÅ");
    }
    @EventMapping
    public void handleDefaultMessageEvent(Event event) {
        System.out.println("event: " + event);
    }
    
    @EventMapping

    public  TextMessage handleTextMessageEvent2(MessageEvent< LocationMessageContent> event) throws IOException{
   		 
    	
    	
    	
      GeoApiContext context = new GeoApiContext.Builder()
    .apiKey("AIzaSyD3_BThExaXsXlEeGmtxMWHH4Iq0n3Pq1M").build();
   double latitude = event.getMessage().getLatitude();
 double longitude = event.getMessage().getLongitude();
 
 String result = "";
 String tmp = "";

 
 try{
	 URL url = new URL("https://map.yahooapis.jp/search/local/V1/localSearch?appid=dj00aiZpPWU1aWNHT2ZNWFRsYiZzPWNvbnN1bWVyc2VjcmV0Jng9YjE-&dist=1&gc=01&results=5&lat="+ latitude+ "&lon="+ longitude+ "&dist=3&sort=hybrid&output=json");
 
 HttpURLConnection con = (HttpURLConnection) url.openConnection(); 
 con.connect();
 

 BufferedReader in = new BufferedReader(new InputStreamReader(con.getInputStream()));
  while((tmp = in.readLine())!=null) {
                 result += tmp;
         }
         in.close();
         con.disconnect();
 } catch (IOException e) {
         e.printStackTrace();
 }
 
 JSONObject json1 = new JSONObject(result);
 JSONArray jsonList = json1.getJSONArray("Feature"); 
 JSONObject jsonNo = jsonList.getJSONObject(0);
String name = jsonNo.getString("Name");
String address = jsonNo.getJSONObject("Property").getString("Address");
String Genre = jsonNo.getJSONObject("Property").getJSONArray("Genre").getJSONObject(0).getString("Name");

JSONObject jsonNo2 = jsonList.getJSONObject(1);
String name2 = jsonNo2.getString("Name");
String address2 = jsonNo2.getJSONObject("Property").getString("Address");
String Genre2 = jsonNo2.getJSONObject("Property").getJSONArray("Genre").getJSONObject(0).getString("Name");

JSONObject jsonNo3 = jsonList.getJSONObject(2);
String name3 = jsonNo3.getString("Name");
String address3 = jsonNo3.getJSONObject("Property").getString("Address");
String Genre3 = jsonNo3.getJSONObject("Property").getJSONArray("Genre").getJSONObject(0).getString("Name");

JSONObject jsonNo4 = jsonList.getJSONObject(3);
String name4 = jsonNo4.getString("Name");
String address4 = jsonNo4.getJSONObject("Property").getString("Address");
String Genre4 = jsonNo4.getJSONObject("Property").getJSONArray("Genre").getJSONObject(0).getString("Name");

JSONObject jsonNo5 = jsonList.getJSONObject(4);
String name5 = jsonNo5.getString("Name");
String address5 = jsonNo5.getJSONObject("Property").getString("Address");
String Genre5 = jsonNo5.getJSONObject("Property").getJSONArray("Genre").getJSONObject(0).getString("Name");


 return new TextMessage("Ëøë„Åè„ÅÆ‰∫∫Ê∞ó„Å™È£≤È£üÂ∫óüçΩ"+"\r\n"
 		+ "ÔºàÂè£„Ç≥„Éü„ÄÅË©ï‰æ°È†Ü„ÅÆÈ´ò„ÅÑÈ†Ü„Å´Êïô„Åà„Å°„ÇÉ„ÅÜ„Çà„ÅäüòôÔºâ"+"\r\n"
 +"„Äê1‰Ωç„Äë"+"\r\n"+"Â∫óÂêç: "+name+"\r\n"
		+"„Ç∏„É£„É≥„É´: "+Genre+"\r\n"
		+"‰ΩèÊâÄ: " +address+"\r\n"+"\r\n"
		+"„Äê2‰Ωç„Äë"+"\r\n"+"Â∫óÂêç: "+name2+"\r\n"
		+"„Ç∏„É£„É≥„É´: "+Genre2+"\r\n"
		+"‰ΩèÊâÄ: " +address2+"\r\n"+"\r\n"
		+"„Äê3‰Ωç„Äë"+"\r\n"+"Â∫óÂêç: "+name3+"\r\n"
		+"„Ç∏„É£„É≥„É´: "+Genre3+"\r\n"
		+"‰ΩèÊâÄ: " +address3+"\r\n"
		+"\r\n"
		+"„Äê4‰Ωç„Äë"+"\r\n"+"Â∫óÂêç: "+name4+"\r\n"
		+"„Ç∏„É£„É≥„É´: "+Genre4+"\r\n"
		+"‰ΩèÊâÄ: " +address4+"\r\n"
		+"\r\n"
		+"„Äê5‰Ωç„Äë"+"\r\n"+"Â∫óÂêç: "+name5+"\r\n"
		+"„Ç∏„É£„É≥„É´: "+Genre5+"\r\n"
		+"‰ΩèÊâÄ: " +address5+"\r\n"
		
		
		
		 );
 
   }

 @EventMapping

   public LocationMessage handleTextMessageEvent1(MessageEvent< LocationMessageContent> event){
	 

     		 
     GeoApiContext context = new GeoApiContext.Builder()
   .apiKey("AIzaSyD3_BThExaXsXlEeGmtxMWHH4Iq0n3Pq1M").build();


  	return new LocationMessage(
     			 event.getMessage().getTitle(),
     			 event.getMessage().getAddress(),
     			 event.getMessage().getLatitude(),
     			 event.getMessage().getLongitude()
     				  
      );
  
	

 }
}
